const ICON_RULES: Array<{ icon: string; pattern: RegExp }> = [
  { icon: "ðŸ‡", pattern: /\bgrape(s)?\b/ },
  { icon: "ðŸˆ", pattern: /\bmelon\b/ },
  { icon: "ðŸ‰", pattern: /\bwatermelon\b/ },
  { icon: "ðŸŠ", pattern: /\b(tangerine|mandarin|orange)\b/ },
  { icon: "ðŸ‹", pattern: /\blemon\b/ },
  { icon: "ðŸ‹â€ðŸŸ©", pattern: /\blime\b/ },
  { icon: "ðŸŒ", pattern: /\bbanana\b/ },
  { icon: "ðŸ", pattern: /\bpineapple\b/ },
  { icon: "ðŸ¥­", pattern: /\bmango\b/ },
  { icon: "ðŸŽ", pattern: /\b(red apple|apple)\b/ },
  { icon: "ðŸ", pattern: /\bgreen apple\b/ },
  { icon: "ðŸ", pattern: /\bpear\b/ },
  { icon: "ðŸ‘", pattern: /\bpeach\b/ },
  { icon: "ðŸ’", pattern: /\bcherr(y|ies)\b/ },
  { icon: "ðŸ“", pattern: /\bstrawberry\b/ },
  { icon: "ðŸ«", pattern: /\bblueberr(y|ies)\b/ },
  { icon: "ðŸ¥", pattern: /\bkiwi\b/ },
  { icon: "ðŸ…", pattern: /\btomato\b/ },
  { icon: "ðŸ«’", pattern: /\bolive\b/ },
  { icon: "ðŸ¥¥", pattern: /\bcoconut\b/ },
  { icon: "ðŸ¥‘", pattern: /\bavocado\b/ },
  { icon: "ðŸ†", pattern: /\b(eggplant|aubergine)\b/ },
  { icon: "ðŸ¥”", pattern: /\bpotato\b/ },
  { icon: "ðŸ¥•", pattern: /\bcarrot\b/ },
  { icon: "ðŸŒ½", pattern: /\b(corn|maize)\b/ },
  { icon: "ðŸŒ¶ï¸", pattern: /\b(hot pepper|chili|chilli)\b/ },
  { icon: "ðŸ«‘", pattern: /\b(bell pepper|capsicum)\b/ },
  { icon: "ðŸ¥’", pattern: /\bcucumber\b/ },
  { icon: "ðŸ¥¬", pattern: /\b(leafy green|lettuce|spinach|kale)\b/ },
  { icon: "ðŸ¥¦", pattern: /\bbroccoli\b/ },
  { icon: "ðŸ§„", pattern: /\bgarlic\b/ },
  { icon: "ðŸ§…", pattern: /\bonion\b/ },
  { icon: "ðŸ¥œ", pattern: /\b(peanut|peanuts)\b/ },
  { icon: "ðŸ«˜", pattern: /\b(bean|beans|lentil|lentils)\b/ },
  { icon: "ðŸŒ°", pattern: /\bchestnut\b/ },
  { icon: "ðŸ«š", pattern: /\bginger\b/ },
  { icon: "ðŸ«›", pattern: /\bpea(s| pod)?\b/ },
  { icon: "ðŸ„â€ðŸŸ«", pattern: /\b(mushroom|mushrooms)\b/ },
  { icon: "ðŸ«œ", pattern: /\b(radish|root vegetable)\b/ },
  { icon: "ðŸž", pattern: /\bbread\b/ },
  { icon: "ðŸ¥", pattern: /\bcroissant\b/ },
  { icon: "ðŸ¥–", pattern: /\bbaguette\b/ },
  { icon: "ðŸ«“", pattern: /\b(flatbread|pita|naan|tortilla)\b/ },
  { icon: "ðŸ¥¨", pattern: /\bpretzel\b/ },
  { icon: "ðŸ¥¯", pattern: /\bbagel\b/ },
  { icon: "ðŸ¥ž", pattern: /\bpancake(s)?\b/ },
  { icon: "ðŸ§‡", pattern: /\bwaffle(s)?\b/ },
  { icon: "ðŸ§€", pattern: /\bcheese\b/ },
  { icon: "ðŸ–", pattern: /\b(meat on bone|rib)\b/ },
  { icon: "ðŸ—", pattern: /\b(chicken|poultry leg|drumstick|turkey)\b/ },
  { icon: "ðŸ¥©", pattern: /\b(steak|beef|pork|meat)\b/ },
  { icon: "ðŸ¥“", pattern: /\bbacon\b/ },
  { icon: "ðŸ”", pattern: /\b(hamburger|burger)\b/ },
  { icon: "ðŸŸ", pattern: /\b(french fries|fries)\b/ },
  { icon: "ðŸ•", pattern: /\bpizza\b/ },
  { icon: "ðŸŒ­", pattern: /\bhot dog\b/ },
  { icon: "ðŸ¥ª", pattern: /\bsandwich\b/ },
  { icon: "ðŸŒ®", pattern: /\btaco\b/ },
  { icon: "ðŸŒ¯", pattern: /\bburrito\b/ },
  { icon: "ðŸ«”", pattern: /\btamale\b/ },
  { icon: "ðŸ¥™", pattern: /\b(stuffed flatbread|shawarma|gyro)\b/ },
  { icon: "ðŸ§†", pattern: /\bfalafel\b/ },
  { icon: "ðŸ¥š", pattern: /\begg\b/ },
  { icon: "ðŸ³", pattern: /\b(cooking|fried egg|omelette)\b/ },
  { icon: "ðŸ¥˜", pattern: /\b(shallow pan|paella)\b/ },
  { icon: "ðŸ²", pattern: /\b(stew|pot of food|soup)\b/ },
  { icon: "ðŸ«•", pattern: /\bfondue\b/ },
  { icon: "ðŸ¥£", pattern: /\b(bowl|porridge|oatmeal)\b/ },
  { icon: "ðŸ¥—", pattern: /\b(salad|green salad)\b/ },
  { icon: "ðŸ¿", pattern: /\bpopcorn\b/ },
  { icon: "ðŸ§ˆ", pattern: /\bbutter\b/ },
  { icon: "ðŸ§‚", pattern: /\bsalt\b/ },
  { icon: "ðŸ¥«", pattern: /\b(canned food|canned|can)\b/ },
  { icon: "ðŸ", pattern: /\b(spaghetti|pasta|noodle)\b/ },
  { icon: "ðŸ±", pattern: /\bbento\b/ },
  { icon: "ðŸ˜", pattern: /\brice cracker\b/ },
  { icon: "ðŸ™", pattern: /\b(rice ball|onigiri)\b/ },
  { icon: "ðŸš", pattern: /\b(cooked rice|rice)\b/ },
  { icon: "ðŸ›", pattern: /\b(curry rice|curry)\b/ },
  { icon: "ðŸœ", pattern: /\b(steaming bowl|ramen|udon|pho)\b/ },
  { icon: "ðŸ ", pattern: /\b(roasted sweet potato|sweet potato)\b/ },
  { icon: "ðŸ¢", pattern: /\b(oden|skewer|kebab)\b/ },
  { icon: "ðŸ£", pattern: /\b(sushi|sashimi)\b/ },
  { icon: "ðŸ¤", pattern: /\b(fried shrimp|shrimp)\b/ },
  { icon: "ðŸ¥", pattern: /\bfish cake\b/ },
  { icon: "ðŸ¥®", pattern: /\bmoon cake\b/ },
  { icon: "ðŸ¡", pattern: /\bdango\b/ },
  { icon: "ðŸ¥Ÿ", pattern: /\b(dumpling|gyoza)\b/ },
  { icon: "ðŸ¥ ", pattern: /\bfortune cookie\b/ },
  { icon: "ðŸ¥¡", pattern: /\b(takeout box|takeout)\b/ },
  { icon: "ðŸ¦", pattern: /\bsoft ice cream\b/ },
  { icon: "ðŸ§", pattern: /\bshaved ice\b/ },
  { icon: "ðŸ¨", pattern: /\bice cream\b/ },
  { icon: "ðŸ©", pattern: /\b(doughnut|donut)\b/ },
  { icon: "ðŸª", pattern: /\bcookie\b/ },
  { icon: "ðŸŽ‚", pattern: /\b(birthday cake|cake)\b/ },
  { icon: "ðŸ°", pattern: /\bshortcake\b/ },
  { icon: "ðŸ§", pattern: /\bcupcake\b/ },
  { icon: "ðŸ¥§", pattern: /\bpie\b/ },
  { icon: "ðŸ«", pattern: /\b(chocolate|choco)\b/ },
  { icon: "ðŸ¬", pattern: /\bcandy\b/ },
  { icon: "ðŸ­", pattern: /\blollipop\b/ },
  { icon: "ðŸ®", pattern: /\bcustard\b/ },
  { icon: "ðŸ¯", pattern: /\bhoney\b/ },
  { icon: "ðŸ¼", pattern: /\b(baby bottle|formula)\b/ },
  { icon: "ðŸ¥›", pattern: /\b(milk|glass of milk)\b/ },
  { icon: "â˜•", pattern: /\b(hot beverage|coffee)\b/ },
  { icon: "ðŸ«–", pattern: /\bteapot\b/ },
  { icon: "ðŸµ", pattern: /\b(teacup|tea)\b/ },
  { icon: "ðŸ¶", pattern: /\b(sake)\b/ },
  { icon: "ðŸ¾", pattern: /\b(champagne|popping cork)\b/ },
  { icon: "ðŸ·", pattern: /\bwine\b/ },
  { icon: "ðŸ¸", pattern: /\bcocktail\b/ },
  { icon: "ðŸ¹", pattern: /\b(tropical drink|mocktail)\b/ },
  { icon: "ðŸº", pattern: /\bbeer\b/ },
  { icon: "ðŸ»", pattern: /\b(clinking beer mugs)\b/ },
  { icon: "ðŸ¥‚", pattern: /\b(clinking glasses|toast)\b/ },
  { icon: "ðŸ¥ƒ", pattern: /\b(whisky|whiskey|tumbler)\b/ },
  { icon: "ðŸ«—", pattern: /\b(pouring liquid|pour)\b/ },
  { icon: "ðŸ¥¤", pattern: /\b(cup with straw|soda)\b/ },
  { icon: "ðŸ§‹", pattern: /\b(bubble tea|boba)\b/ },
  { icon: "ðŸ§ƒ", pattern: /\b(juice box|beverage box)\b/ },
  { icon: "ðŸ§‰", pattern: /\bmate\b/ },
  { icon: "ðŸ«™", pattern: /\bjar\b/ },
  { icon: "ðŸº", pattern: /\bamphora\b/ },
];

export const inferFoodIconFromName = (name: string): string | undefined => {
  const normalized = name.trim().toLowerCase();
  if (!normalized) {
    return undefined;
  }

  for (const rule of ICON_RULES) {
    if (rule.pattern.test(normalized)) {
      return rule.icon;
    }
  }

  return undefined;
};
